c
@transaction.extra_info
@transaction.status = "pending"
    @transaction.amount = @transaction.related_object.price
    @transaction.currency = "USD"
    @transaction.extra_info = JSON.parse(transaction_params[:extra_info] || "{}")
c
transaction_params[:extra_info]
transaction_params
@transaction.extra_info
c
params[:transaction][:extra_info] = JSON.parse(params[:transaction][:extra_info])
params[:transaction][:extra_info]
params[:transaction]
params
c
transaction = JSON.parse(response.body)
transaction["status"] 
c
transaction["status"]
transaction
response.code
response.code == 200 && transaction["status"] == "completed"
transaction = JSON.parse(response.body)
response.body
transaction
c
transaction
response.code
response
c
auth
c
expected
